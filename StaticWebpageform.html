<!DOCTYPE html>
<html lang="en">
<head>
  <title>Home page</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <link href='https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/ui-lightness/jquery-ui.css' rel='stylesheet'>
 <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js" ></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js" ></script>
    <script src="myScript.js" type="text/javascript"></script>
    <link rel="stylesheet" type="text/css" href="style.css">

<script>
$(document).ready(function() {

            $(function() {
                $( "#date_picker" ).datepicker({ dateFormat: 'dd/mm/yy' });
            });
        })
</script>
<script>
var CountryObject =  {
  "India":
  {
   "Kerala":[],
    "Karnataka":[],
    "Tamil Nadu":[]
    },

  "USA":
  {
   "Alabama":[],
    "Alaska":[],
     "Arizona":[]
     },
  "UK" :
  {
  "London":[],
   "Kent":[],
    "Devon":[]
  }
}
window.onload = function(){

  var countrySel = document.getElementById("country");
  var stateSel = document.getElementById("state");
  for (var x in CountryObject)
   {
    countrySel.options[countrySel.options.length] = new Option(x);
  }
  countrySel.onchange = function()
  {
    stateSel.length = 1;

    for (var y in CountryObject[this.value])
    {
      stateSel.options[stateSel.options.length] = new Option(y);
    }
  }

}
function fileValidation()
{
            var fileInput =
                document.getElementById('file');

            var filePath = fileInput.value;

            var allowedExtensions =
                    /(\.docx|\.jpeg|\.pdf|\.jpg)$/i;

            if (!allowedExtensions.exec(filePath)) {
                alert('Invalid file type');
                fileInput.value = '';
                return false;
            }

         if (fileInput.files.length > 0)
         {
            for (const i = 0; i <= fileInput.files.length - 1; i++)
             {

                const siz = fileInput.files.item(i).size;
                const file = Math.round((siz / 1024));
                if (file >= 5120)
                {
                    alert(
                      "File too Big, please select a file less than 5mb");
                }

             }
         }
  }
 function emailValidation()
 {

    var email = document.getElementById('email');
    var filter = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;

    if (!filter.test(email.value))
    {
        alert('Please provide a valid email address');
        email.focus;
        return false;
    }
 }

</script>
    <script>
function validation()
{
    var fname=document.myform.fname.value;
    if(fname=="")
    {

	    document.getElementById('nameerr').innerHTML="First Name required";
	    return false;
    }
    else
    {

	    document.getElementById('nameerr').innerHTML=" ";
    }
    var lname=document.myform.lname.value;
    if(lname=="")
    {

	    document.getElementById('lnameerr').innerHTML="Last Name required";
	    return false;
    }
    else
    {

	    document.getElementById('lnameerr').innerHTML=" ";
    }
    var dob=document.myform.dob.value;
     if(dob=="")
    {

	    document.getElementById('doberr').innerHTML="Date of Birth required";
	    return false;
    }
    else
    {

	    document.getElementById('doberr').innerHTML=" ";
    }
    var email = document.myform.email.value;
    var filter = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
    if(email=="")
    {

	    document.getElementById('emailerr').innerHTML="email required";
	    return false;
    }
    else
    {
	        document.getElementById('emailerr').innerHTML=" ";

    }
     var country=document.myform.country.value;
     if(country=="")
    {

	    document.getElementById('countryerr').innerHTML="Select your Country";
	    return false;
    }
    else
    {

	    document.getElementById('countryerr').innerHTML=" ";
    }
    var state=document.myform.state.value;
     if(state=="")
    {

	    document.getElementById('stateerr').innerHTML="Select your State;
	    return false;
    }
    else
    {

	    document.getElementById('stateerr').innerHTML=" ";
    }
     var file=document.myform.file.value;
     if(file=="")
    {

	    document.getElementById('fileerr').innerHTML="Please upload the file";
	    return false;
    }
    else
    {

	    document.getElementById('fileeerr').innerHTML=" ";
    }

}
function formvalidation()
{

     var country=document.myform.country.value;
    var state=document.myform.state.value;
     var file=document.myform.file.value;
     var check=document.getElementById('check');
     if(file!=""&&country!="" && state!="" && check.checked==true)
    {

	     alert("Successfully Registered!!!")
	 }
}
</script>
</head>
<body>
<form name="myform"  onsubmit="return validation()">
  <div class="container" align="center">
    <h1>User Registration Form</h1>
   <div align="left">
    <label><b>First Name</b></label><span id="nameerr" style="color :red " ></span>
    <input type="text" placeholder="First Name" name="fname" id="fname" required>

    <label ><b>Last Name</b></label><span id="lnameerr" style="color :red " ></span>
    <input type="text" placeholder="Last Name" name="lname" id="lname" required>

    <label ><b>Middle Name (Optional)</b></label>
    <input type="text" placeholder="Middle Name" name="mname" id="mname" >

    <label><b>Date of Birth</b></label><span id="doberr" style="color :red " ></span>
    <input type="text" placeholder="DD/MM/YYYY" name="dob" id="date_picker" required>

    <label ><b>Email</b></label><span id="emailerr" style="color :red " ></span>
    <input type="text" placeholder="Email" name="email" id="email" onchange="return emailValidation()">

    <label><b>Gender</b></label><br>
     <input type="radio" id="male" name="gender" value="male" checked="checked"><label for="male"> Male</label>
    <input type="radio" id="female" name="gender" value="female"><label for="female"> Female</label><br>
    <br>
    <label><b>Country</b></label><br><span id="countryerr" style="color :red " ></span>
       <select id="country" class="select" name="country">
           <option value="" selected="selected" >Select your Country</option>
       </select>
    <label><b>State</b></label><br><span id="stateerr" style="color :red " ></span>
       <select id="state" class="select" name="state">
           <option value="" selected="selected">Select your State</option>
       </select>
       <label><b>File Upload</b></label><br><span id="fileerr" style="color :red " ></span>
    <input type="file" id="file" name="file" onchange="return fileValidation()" /><br>
       <p>Maximum size 5MB <br>File extension restricted to jpeg, jpg, pdf, docx</p>
       <hr>
   <div>
    <input type="submit" value="Register" class="registerbtn" onclick="formvalidation()">
  </div>
  </div>
  </div>
</form>
</body>
</html>